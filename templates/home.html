<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
    crossorigin="anonymous"></script>
  <title>Sports Hub</title>
</head>

<body>
  <!-- <pre>{{ raw_data | pprint }}</pre> -->
  <div class="container">
    <h2>Game Schedule <br> <span id="currentDate"></span></h2>


    <ul>
      {% for game in games %}
      <li>
        {{ game.home.name }}
        vs
        {{ game.away.name }}
        <br>
        {{ game.venue.name }} ({{ game.venue.city }})
        <br>
        {{ game.readable_date }}
      </li>
      {% endfor %}
    </ul>
  </div>

  <script>
      // Helper for ordinal suffix
  function ordinalSuffix(day) {
    if (day > 3 && day < 21) return "th";
    switch (day % 10) {
      case 1:  return "st";
      case 2:  return "nd";
      case 3:  return "rd";
      default: return "th";
    }
  }

  const dateElement = document.getElementById("currentDate");
  const now = new Date();

  // Get individual parts
  const weekday = now.toLocaleDateString(undefined, { weekday: "long" });
  const month = now.toLocaleDateString(undefined, { month: "long" });
  const day = now.getDate();
  const ordinal = ordinalSuffix(day);

  // Compose the final string
  const formattedDate = `${weekday}, ${month} ${day}${ordinal}`;

  dateElement.innerHTML = formattedDate;
  </script>
</body>

</html>